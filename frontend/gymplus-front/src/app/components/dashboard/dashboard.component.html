<div class="flex h-screen">
    <mat-sidenav-container class="h-full w-full">
      <mat-sidenav [opened]="isSidebarOpen" mode="side" class="text-white" [ngClass]="{'w-64': isSidebarOpen, 'w-0': !isSidebarOpen}">
        <div class="flex items-center h-16 px-4">
          <h1 class="text-2xl font-bold">GymPlus</h1>
        </div>
        <mat-nav-list>
          <a mat-list-item (click)="setActiveTab('dashboard')" [class.active]="activeTab === 'dashboard'">
            <mat-icon matListIcon>dashboard</mat-icon>
            <span matLine>Dashboard</span>
          </a>
          <a mat-list-item (click)="setActiveTab('members')" [class.active]="activeTab === 'members'">
            <mat-icon matListIcon>people</mat-icon>
            <span matLine>Miembros</span>
          </a>
          <a mat-list-item (click)="setActiveTab('classes')" [class.active]="activeTab === 'classes'">
            <mat-icon matListIcon>fitness_center</mat-icon>
            <span matLine>Clases</span>
          </a>
          <a mat-list-item (click)="setActiveTab('billing')" [class.active]="activeTab === 'billing'">
            <mat-icon matListIcon>attach_money</mat-icon>
            <span matLine>Facturación</span>
          </a>
        </mat-nav-list>
      </mat-sidenav>
  
      <mat-sidenav-content class="flex flex-col">
        <!-- Header -->
        <mat-toolbar class="flex justify-between items-center h-16 px-4">
          <div class="flex items-center">
            <button mat-icon-button (click)="toggleSidebar()" class="-ml-2">
              <mat-icon>{{ isSidebarOpen ? 'menu_open' : 'menu' }}</mat-icon>
            </button>
            <span class="text-xl font-bold ml-2">Dashboard</span>
          </div>
          <div>
            <button mat-icon-button>
              <mat-icon>notifications</mat-icon>
            </button>
            <button mat-icon-button>
              <mat-icon>account_circle</mat-icon>
            </button>
          </div>
        </mat-toolbar>
  
        <!-- Main content -->
        <div class="p-6 flex-grow overflow-auto">
          <!-- Stats -->
          <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4 mb-6">
            <mat-card class="bg-white shadow-md rounded-lg overflow-hidden">
              <mat-card-header>
                <mat-card-title class="text-lg font-semibold">Miembros Totales</mat-card-title>
                <mat-icon class="text-green-600 ml-auto">people</mat-icon>
              </mat-card-header>
              <mat-card-content>
                <p class="text-3xl font-bold mt-2">1,234</p>
                <p class="text-sm text-green-600">+10% desde el mes pasado</p>
              </mat-card-content>
            </mat-card>
            <mat-card class="bg-white shadow-md">
              <mat-card-header>
                <mat-card-title class="text-lg font-semibold">Ingresos Mensuales</mat-card-title>
                <mat-icon class="text-green-600 ml-auto">attach_money</mat-icon>
              </mat-card-header>
              <mat-card-content>
                <p class="text-3xl font-bold mt-2">$12,345</p>
                <p class="text-sm text-green-600">+5% desde el mes pasado</p>
              </mat-card-content>
            </mat-card>
            <mat-card class="bg-white shadow-md">
              <mat-card-header>
                <mat-card-title class="text-lg font-semibold">Clases Programadas</mat-card-title>
                <mat-icon class="text-green-600 ml-auto">event</mat-icon>
              </mat-card-header>
              <mat-card-content>
                <p class="text-3xl font-bold mt-2">56</p>
                <p class="text-sm text-green-600">Para esta semana</p>
              </mat-card-content>
            </mat-card>
            <mat-card class="bg-white shadow-md">
              <mat-card-header>
                <mat-card-title class="text-lg font-semibold">Tasa de Retención</mat-card-title>
                <mat-icon class="text-green-600 ml-auto">trending_up</mat-icon>
              </mat-card-header>
              <mat-card-content>
                <p class="text-3xl font-bold mt-2">85%</p>
                <p class="text-sm text-green-600">+2% desde el mes pasado</p>
              </mat-card-content>
            </mat-card>
          </div>
  
          <!-- Charts -->
          <div class="grid grid-cols-1 gap-4 md:grid-cols-2 mb-6">
            <mat-card class="bg-white shadow-md">
              <mat-card-header>
                <mat-card-title class="text-lg font-semibold">Asistencia Semanal</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <canvas id="attendanceChart"></canvas>
              </mat-card-content>
            </mat-card>
            <mat-card class="bg-white shadow-md">
              <mat-card-header>
                <mat-card-title class="text-lg font-semibold">Ingresos Mensuales</mat-card-title>
              </mat-card-header>
              <mat-card-content>
                <canvas id="revenueChart"></canvas>
              </mat-card-content>
            </mat-card>
          </div>
  
          <!-- Recent Members -->
          <mat-card class="bg-white shadow-md">
            <mat-card-header>
              <mat-card-title class="text-lg font-semibold">Miembros Recientes</mat-card-title>
            </mat-card-header>
            <mat-card-content>
              <table mat-table [dataSource]="recentMembers" class="w-full">
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef> Nombre </th>
                  <td mat-cell *matCellDef="let member"> {{member.name}} </td>
                </ng-container>
                <ng-container matColumnDef="plan">
                  <th mat-header-cell *matHeaderCellDef> Plan </th>
                  <td mat-cell *matCellDef="let member"> {{member.plan}} </td>
                </ng-container>
                <ng-container matColumnDef="startDate">
                  <th mat-header-cell *matHeaderCellDef> Fecha de Inicio </th>
                  <td mat-cell *matCellDef="let member"> {{member.startDate}} </td>
                </ng-container>
                <ng-container matColumnDef="status">
                  <th mat-header-cell *matHeaderCellDef> Estado </th>
                  <td mat-cell *matCellDef="let member">
                    <span class="px-2 py-1 rounded-full text-xs font-semibold"
                          [ngClass]="{
                            'bg-green-100 text-green-800': member.status === 'Activo',
                            'bg-yellow-100 text-yellow-800': member.status === 'Pendiente'
                          }">
                      {{member.status}}
                    </span>
                  </td>
                </ng-container>
  
                <tr mat-header-row *matHeaderRowDef="['name', 'plan', 'startDate', 'status']"></tr>
                <tr mat-row *matRowDef="let row; columns: ['name', 'plan', 'startDate', 'status'];"></tr>
              </table>
            </mat-card-content>
          </mat-card>
        </div>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>